<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Zerotwoheroes | Tree Planting </title>
    <link rel='shortcut icon' href='dist/img/favicon.ico' type='image/x-icon' />
    <link rel="stylesheet" href="dist/css/style.css">
    <link rel="stylesheet" href="dist/css/custom.css">
    <link rel="stylesheet" href="dist/css/tree_planting.css">
    <link rel="stylesheet" href="dist/css/land_owner.css">
    <link rel="stylesheet" href="dist/css/bootstrap.min.css">
    <style>
   
            h4{
                text-align: left;
                color: black;
                font-family: Bahnschrift Light;
                font-weight: bold;
            }
            a{
                text-decoration: none;
            }
        
        </style>
</head>
<body>
        <header>
                <div class="container">
                   
                <div id="myNav" class="overlay">
                        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                        <div class="overlay-content">
                            <a href="index.html">Home</a> 
                            <a href="about.html"> About</a>
                            <a href="contact.html"> Contact</a>
                            <a href="index.html"><img src="dist/img/logout.png" width="30px" height="30px">logout</a>
                        </div>
                    </div>
            
                </div>            
        <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; <img src="dist/img/logo.png" height="40px" id="logo"></span>
    </header>
  <section class="inputs">            
            <div class="dropdown">
                <button onclick="myFunction()" class="button button1">Search Existing Farmer</button>
                <div id="myDropdown" class="dropdown-content">
                  
                </div>
              </div>
              
              <script>
              /* When the user clicks on the button,
              toggle between hiding and showing the dropdown content */
              function myFunction() {
                document.getElementById("myDropdown").classList.toggle("show");
              }
              
              function filterFunction() {
                var input, filter, ul, li, a, i;
                input = document.getElementById("myInput");
                filter = input.value.toUpperCase();
                div = document.getElementById("myDropdown");
                a = div.getElementsByTagName("a");
                for (i = 0; i < a.length; i++) {
                  txtValue = a[i].textContent || a[i].innerText;
                  if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    a[i].style.display = "";
                  } else {
                    a[i].style.display = "none";
                  }
                }
              }
              </script>
              
        <hr>
        <form id="tree_planting_module">
            <div id="voke">
                <p>Selected Farmer</p>
                <input required readonly type="text" id="farmer_name" name="farmer_name" placeholder="Click the button above to Search">
                <input type="hidden" id="farmer_id" name="farmer_id">
        <p>Turn on your Gps And capture Geo Location</p>

        <img src="dist/img/map.png" height="60px" width="60px" onclick="getLocation()">
            <p>click the icon to capture Nursery Location</p>

    <p id="locator"></p>
    <input type="hidden" id="latitude" name="latitude">
    <input type="hidden" id="longitude" name="longitude">

<script>
var x = document.getElementById("locator");

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else { 
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
  x.innerHTML = "<b>Latitude:</b> " + position.coords.latitude + 
  "<br><b>Longitude:</b> " + position.coords.longitude;

  document.getElementById("latitude").value = position.coords.latitude;
  document.getElementById("longitude").value = position.coords.longitude;
}
</script>

<p>•	Enter the scientific name of trees of the same species planted during the same rainy season.
   If you don’t have it, enter the local name.</p>

        <div>
                <p>Add Tree</p>
                <input required type="text" id="tree_name" name="tree_name" placeholder="Tree Name..">
        </div>
        <div>
                <p>Date planted</p>
                <input  required type="date" id="date_planted" name="date_planted" placeholder="date..">
        </div>
        <div>
                <p>Number of trees planted </p>
                <input required type="number" id="num_trees_planted" name="num_trees_planted" placeholder="Trees planted..">
        </div>
        <div>
                <p>Number of trees surviving </p>
                <input required type="number" id="num_trees_surviving" name="num_trees_surviving" placeholder="Trees Surviving..">
        </div>

        <div id="div-tree-planting_area"></div>      
    <div id="div-tree-management"></div>

        <div>
          <p>Observation/ comments</p>
              <textarea id="comments" name="comments" placeholder="Write something on the above stages..." style="height:200px ; width:800px "></textarea>

      </div>
      <div id="div-tree-usage"></div>      
    <div id="div-tree-measurement"></div>
<div>
<input type="submit" value="Submit">
<div class="twende">
<a href="index.html" class="next round">&#8249;</a>
</div>
</div>
</div>
</div>
</form>
  </section>

  

    <footer>
        <p>ZeroTwoHeroes limited, Copyright &copy; 2019 follows us on ..
       <a href="https://facebook.com/ZeroTwoHeroes" ><img src="dist/img/facebook.png" width="40px" height="40px"></a>
       <a href="https://twitter.com/ZeroTwoHeroes"  ><img src="dist/img/twitter.png" width="40px" height="40px" ></a>
       </p>
     </footer>
    <script src="dist/js/main.js"></script>
    <script src="dist/js/main.js"></script><script src="dist/js/jquery-2.1.1.min.js" type="text/javascript"></script>
    <script>
        /**
            This function loads on page ready 
            Populates all counties in ascending order
            Loads data from load-counties.php 
            Populates this data before div with id #new-posts-div
         */
            $(document).ready(function(){
                $.get("http://185.141.62.34/api/zero2heroes/load-registered-farmers-select.php",function(farmers){
                                document.getElementById("myDropdown").innerHTML = farmers;
                        });
                $.get("http://185.141.62.34/api/zero2heroes/load-tree-measurements.php",function(measurements){
                        document.getElementById("div-tree-measurement").innerHTML = measurements;
                        });
                $.get("http://185.141.62.34/api/zero2heroes/load-tree-usage.php",function(measurements){
                document.getElementById("div-tree-usage").innerHTML = measurements;
                });

                $.get("http://185.141.62.34/api/zero2heroes/load-tree-planting-area.php",function(planting_area){
                document.getElementById("div-tree-planting_area").innerHTML = planting_area;
                });

                $.get("http://185.141.62.34/api/zero2heroes/load-tree-management.php",function(management){
                document.getElementById("div-tree-management").innerHTML = management;
                });
            
                });


                function pickFarmer(id){
                    var farmer_name = document.getElementById("farm_"+id).innerText;
                    document.getElementById("farmer_id").value = id;
                    document.getElementById("farmer_name").value = farmer_name;
                    document.getElementById("myDropdown").classList.toggle("show");

                }

                $(function () {
        $('form').on('submit', function (e) {
          e.preventDefault();
          $.ajax({
            type: 'post',
            url: 'http://185.141.62.34/api/zero2heroes/persist-tree-planting.php',
            data: $('form').serialize(),
            success: function (response) {
              alert('Tree Planting data submitted successfully\n'+response);
              window.location.href = "index.html";
            }
          });

        });

      });
                
                </Script>
</body>
</html>